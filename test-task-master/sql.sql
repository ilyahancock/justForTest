--SET DATABASE SQL SYNTAX ORA TRUE;

-- GROUP_TABLE
CREATE TABLE GROUP_TABLE (
    GID BIGINT  NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    NAME VARCHAR (20) NOT NULL,
    NUMBER VARCHAR (5) NOT NULL,
    PRIMARY KEY  (GID)
);


-- Data for GROUP_TABLE
INSERT INTO GROUP_TABLE VALUES ('1', 'Строительство', 'гр1');
INSERT INTO GROUP_TABLE VALUES ('2', 'Садоводство', 'гр2');
INSERT INTO GROUP_TABLE VALUES ('3', 'Кибер-спорт', 'гр3');

-- STUDENT_TABLE
CREATE TABLE STUDENT_TABLE (
    SID BIGINT  NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    DATE TIMESTAMP  NOT NULL,
    FIRSTNAME VARCHAR (20) NOT NULL,
    LASTNAME VARCHAR (40) NOT NULL,
    PATRONYMICNAME VARCHAR (20) NULL,
    GROUP_ID BIGINT NOT NULL,
    PRIMARY KEY  (SID)
	
);

--ALTER TABLE STUDENT_TABLE ADD FOREIGN KEY  (GROUP_ID) REFERENCES GROUP_TABLE (GID) ON DELETE RESTRICT;

---- 
-- Data for STUDENT_TABLE
INSERT INTO STUDENT_TABLE VALUES ('1', '2017-11-03 15:32:57.92', 'Иван', 'Ургант', 'Иванович', '1');
INSERT INTO STUDENT_TABLE VALUES ('2', '2017-11-03 15:32:57.92', 'Гарик', 'Мартиросян', 'Петрович', '2');
INSERT INTO STUDENT_TABLE VALUES ('3', '2017-11-03 15:32:57.92', 'Сергей', 'Светлаков', 'Сидорович', '2');
INSERT INTO STUDENT_TABLE VALUES ('4', '2017-11-03 15:32:57.92', 'Михаил', 'Галустян', 'Игоревич', '3');

--delete from GROUP_TABLE where GID = 1;